tellaho/surfornah:

  # Ref - distelli-manifest.yml
  # https://www.distelli.com/docs/reference/distelli-manifest

  # PreRelease:
  #   - echo "--- BEGIN PreRelease ---"
  #   - echo "--Installing build dependencies--"
  #   - echo "-Updating apt-get-"
  #   - sudo apt-get -y update
  #   - echo "- Installing nodejs -"
  #   - sudo apt-get -y install nodejs
  #   - echo "-Installing npm-"
  #   - sudo apt-get -y install npm
  #   - echo "--Building--"
  #   - sudo npm install
    # - echo "--Testing--"
    # - npm test

  PkgInclude:
    - '*'

  PkgExclude:
    - node_modules/
    - bower_components/

  # Build:
  #   - echo "Begin Build"
  #   #- npm install
  #   #- npm test

  PreInstall:
    - echo "--- BEGIN PreInstall ---"
    - echo "--Installing deploy dependencies--"
    - echo "-Updating apt-get-"
    - sudo apt-get -y update
    - echo "-Installing nodejs-"
    - sudo apt-get -y install nodejs
    - echo "-Installing npm-"
    - sudo apt-get -y install npm
    - echo "-Installing pm2-"
    - sudo npm install pm2 -g

  PostInstall:
    - echo "--- BEGIN PostInstall ---"
    - npm install

  Env:
    - PORT: 3000

  Exec:
    - pm2 start start.js